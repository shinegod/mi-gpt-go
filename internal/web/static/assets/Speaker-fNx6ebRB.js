import{_ as K,a as L,r as f,o as Q,e as E,f as V,g as e,w as t,E as W,K as r,k as h,l as q,m as u,y as H,z as J,A as o,t as d,j as a,D as O,B as X,n as Y,C as Z,Q as ee,$ as F,S as te,W as le,a0 as se,a1 as ae,V as N,a2 as P,G as ne,s as oe,a3 as ue}from"./index-48GxJGop.js";/* empty css                *//* empty css                     *//* empty css                 *//* empty css                             *//* empty css               */const re={class:"speaker-page"},de={class:"status-actions"},ie={class:"preset-texts"},_e={class:"preset-buttons"},pe={class:"preset-commands"},ce={class:"preset-buttons"},fe={__name:"Speaker",setup(me){const n=L(),m=f("你好，我是小爱同学！"),k=f(!1),b=f(!1),v=f(""),S=f(!0),x=f(!1),U=["你好，我是小爱同学！","今天天气怎么样？","播放一首好听的音乐","现在几点了？","帮我设个闹钟","讲个笑话给我听","今天是几月几号？","明天的天气预报"],$=["今天天气怎么样","播放音乐","现在几点了","设置10分钟后的闹钟","音量调到50","暂停播放","继续播放","下一首","讲个笑话","查询明天天气","开启静音模式","关闭静音模式"],T=async()=>{try{await n.fetchStatus(),r.success("状态刷新成功")}catch(i){r.error("状态刷新失败: "+i.message)}},I=async()=>{if(!m.value.trim()){r.warning("请输入要播放的文本");return}k.value=!0;try{await n.playTTS(m.value)&&r.success("TTS播放指令已发送")}finally{k.value=!1}},A=async()=>{b.value=!0;try{await n.stop()&&r.success("音箱停止指令已发送")}finally{b.value=!1}},B=async()=>{if(!v.value.trim()){r.warning("请输入要执行的语音命令");return}x.value=!0;try{(await ue.executeVoiceCommand(v.value,S.value)).success&&r.success("语音命令执行成功")}catch(i){r.error("语音命令执行失败: "+i.message)}finally{x.value=!1}};return Q(()=>{T()}),(i,l)=>{const _=J,D=O,R=H,y=Y,p=X,C=q,c=h,z=le,g=te,M=ee,w=W,j=ne;return V(),E("div",re,[e(w,{gutter:20},{default:t(()=>[e(c,{span:12},{default:t(()=>[e(C,null,{header:t(()=>l[3]||(l[3]=[u("span",null,"音箱状态",-1)])),default:t(()=>[e(R,{column:1,border:""},{default:t(()=>[e(_,{label:"设备名称"},{default:t(()=>[o(d(a(n).status.name||"未设置"),1)]),_:1}),e(_,{label:"设备标识"},{default:t(()=>[o(d(a(n).status.deviceID||"未设置"),1)]),_:1}),e(_,{label:"连接状态"},{default:t(()=>[e(D,{type:a(n).status.connected?"success":"danger"},{default:t(()=>[o(d(a(n).status.connected?"已连接":"未连接"),1)]),_:1},8,["type"])]),_:1}),e(_,{label:"播放状态"},{default:t(()=>[e(D,{type:a(n).status.isPlaying?"warning":"info"},{default:t(()=>[o(d(a(n).status.isPlaying?"播放中":"空闲"),1)]),_:1},8,["type"])]),_:1}),e(_,{label:"音量"},{default:t(()=>[o(d(a(n).status.volume||0)+"%",1)]),_:1}),e(_,{label:"最后消息"},{default:t(()=>[o(d(a(n).status.lastMessage||"无"),1)]),_:1})]),_:1}),u("div",de,[e(p,{onClick:T,loading:a(n).loading},{default:t(()=>[e(y,null,{default:t(()=>[e(a(Z))]),_:1}),l[4]||(l[4]=o(" 刷新状态 "))]),_:1,__:[4]},8,["loading"])])]),_:1})]),_:1}),e(c,{span:12},{default:t(()=>[e(C,null,{header:t(()=>l[5]||(l[5]=[u("span",null,"TTS语音测试",-1)])),default:t(()=>[e(M,{onSubmit:F(I,["prevent"])},{default:t(()=>[e(g,{label:"测试文本"},{default:t(()=>[e(z,{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=s=>m.value=s),type:"textarea",rows:4,placeholder:"请输入要播放的文本内容..."},null,8,["modelValue"])]),_:1}),e(g,null,{default:t(()=>[e(p,{type:"primary",onClick:I,loading:k.value},{default:t(()=>[e(y,null,{default:t(()=>[e(a(se))]),_:1}),l[6]||(l[6]=o(" 播放语音 "))]),_:1,__:[6]},8,["loading"]),e(p,{onClick:A,loading:b.value},{default:t(()=>[e(y,null,{default:t(()=>[e(a(ae))]),_:1}),l[7]||(l[7]=o(" 停止播放 "))]),_:1,__:[7]},8,["loading"])]),_:1})]),_:1}),u("div",ie,[l[8]||(l[8]=u("h4",null,"快捷测试文本:",-1)),u("div",_e,[(V(),E(N,null,P(U,s=>e(p,{key:s,size:"small",onClick:G=>m.value=s},{default:t(()=>[o(d(s),1)]),_:2},1032,["onClick"])),64))])])]),_:1})]),_:1})]),_:1}),e(w,{gutter:20,style:{"margin-top":"20px"}},{default:t(()=>[e(c,{span:24},{default:t(()=>[e(C,null,{header:t(()=>l[9]||(l[9]=[u("span",null,"语音命令执行",-1),u("span",{style:{color:"#909399","margin-left":"10px","font-size":"12px"}}," 基于xiaoai-tts第三方库，模拟小爱音箱语音交互 ",-1)])),default:t(()=>[e(M,{onSubmit:F(B,["prevent"])},{default:t(()=>[e(w,{gutter:16},{default:t(()=>[e(c,{span:16},{default:t(()=>[e(g,{label:"语音命令"},{default:t(()=>[e(z,{modelValue:v.value,"onUpdate:modelValue":l[1]||(l[1]=s=>v.value=s),placeholder:"例如：查询天气、播放音乐、设置闹钟...",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{span:4},{default:t(()=>[e(g,{label:"需要回应"},{default:t(()=>[e(j,{modelValue:S.value,"onUpdate:modelValue":l[2]||(l[2]=s=>S.value=s)},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{span:4},{default:t(()=>[e(g,{label:" "},{default:t(()=>[e(p,{type:"primary",onClick:B,loading:x.value},{default:t(()=>[e(y,null,{default:t(()=>[e(a(oe))]),_:1}),l[10]||(l[10]=o(" 执行命令 "))]),_:1,__:[10]},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1}),u("div",pe,[l[11]||(l[11]=u("h4",null,"常用语音命令:",-1)),u("div",ce,[(V(),E(N,null,P($,s=>e(p,{key:s,size:"small",onClick:G=>v.value=s},{default:t(()=>[o(d(s),1)]),_:2},1032,["onClick"])),64))])])]),_:1})]),_:1})]),_:1})])}}},xe=K(fe,[["__scopeId","data-v-6e6c3e2d"]]);export{xe as default};
